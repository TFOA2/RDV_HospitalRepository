{% extends "layout.html" %}
{% load static %}

{% block content %}

    <section class="py-10 px-6 bg-blue-500 text-white"> 
        <h2 class="ps-5 border-l-4 border-white text-lg font-semibold"> Historique des Consultations </h2>

        <p class="mt-4 text-3xl font-bold">Retrouvez toutes vos consultations passées .</p>
    </section>




    <div class="max-w-7xl mx-auto bg-white p-6 rounded-lg shadow-lg">
        <h2 class="text-2xl font-semibold mb-4 text-gray-800">Historique des Consultations</h2>
        
        <div class="overflow-x-auto">
            <table class="min-w-full bg-white border border-gray-200">
                <thead class="bg-blue-500 text-white text-start">
                    <tr class="">
                        <th class="py-3 px-6 border-b">#</th>
                        <th class="py-3 px-6 border-b">Médecin</th>
                        <th class="py-3 px-6 border-b">Date</th>
                        <th class="py-3 px-6 border-b">Heure</th>
                        <th class="py-3 px-6 border-b">Type</th>
                        <th class="py-3 px-6 border-b">Diagnostic</th>
                        <th class="py-3 px-6 border-b">Ordonnance</th>
                    </tr>
                </thead>
                <tbody class="text-gray-700">
                    {% for consultation in consultations %}
                    <tr class="border-b hover:bg-gray-200 text-center cursor-pointer" onclick="window.location.href='{% url 'detail_consultation' consultation.id %}'">
                        <td class="py-3 px-6 "> <img src="{% static 'images/consultationIcon.png' %}" alt="" class="w-10 h-10"> </td>
                        <td class="py-3 px-6 ">{{consultation.rendezVous.specialiste.name}}</td>
                        <td class="py-3 px-6 ">{{consultation.rendezVous.date}}</td>
                        <td class="py-3 px-6 ">{{consultation.rendezVous.heureDebut}} - {{consultation.rendezVous.heureFin}}</td>
                        <td class="py-3 px-6 ">{% if consultation.rendezVous.type == 1 %} Sur site {% else %} Teleconsultation {% endif %}</td>
                        <td class="py-3 px-6 ">{{consultation.diagnostique}} </td>
                        <td class="py-3 px-6 ">{{consultation.ordonance}} </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>

{% endblock content %}